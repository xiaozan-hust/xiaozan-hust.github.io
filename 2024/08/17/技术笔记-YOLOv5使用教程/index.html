<!DOCTYPE html><html lang="[&quot;zh-CN&quot;,&quot;en&quot;,&quot;zh-TW&quot;,&quot;default&quot;]" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>æŠ€æœ¯ç¬”è®°|YOLOv5ä½¿ç”¨æ•™ç¨‹ | xiaozan</title><meta name="author" content="èœ‚é¸Ÿ"><meta name="copyright" content="èœ‚é¸Ÿ"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="å¤§å››å¤‡æˆ˜RCæ—¶çš„YOLOå­¦ä¹ ç¬”è®°">
<meta property="og:type" content="article">
<meta property="og:title" content="æŠ€æœ¯ç¬”è®°|YOLOv5ä½¿ç”¨æ•™ç¨‹">
<meta property="og:url" content="http://example.com/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/index.html">
<meta property="og:site_name" content="xiaozan">
<meta property="og:description" content="å¤§å››å¤‡æˆ˜RCæ—¶çš„YOLOå­¦ä¹ ç¬”è®°">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/YOLOv5%E6%95%99%E7%A8%8B_%E5%B0%81%E9%9D%A2.png">
<meta property="article:published_time" content="2024-08-16T21:43:16.000Z">
<meta property="article:modified_time" content="2024-11-12T07:00:39.582Z">
<meta property="article:author" content="èœ‚é¸Ÿ">
<meta property="article:tag" content="YOLOv5">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/YOLOv5%E6%95%99%E7%A8%8B_%E5%B0%81%E9%9D%A2.png"><link rel="shortcut icon" href="/img/friend_404.gif"><link rel="canonical" href="http://example.com/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.0.0-b1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.6.0/css/all.min.css"><script>(()=>{
      const saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
      
      window.btf = {
        saveToLocal: saveToLocal,
        getScript: (url, attr = {}) => new Promise((resolve, reject) => {
          const script = document.createElement('script')
          script.src = url
          script.async = true
          script.onerror = reject
          script.onload = script.onreadystatechange = function() {
            const loadState = this.readyState
            if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
            script.onload = script.onreadystatechange = null
            resolve()
          }

          Object.keys(attr).forEach(key => {
            script.setAttribute(key, attr[key])
          })

          document.head.appendChild(script)
        }),

        getCSS: (url, id = false) => new Promise((resolve, reject) => {
          const link = document.createElement('link')
          link.rel = 'stylesheet'
          link.href = url
          if (id) link.id = id
          link.onerror = reject
          link.onload = link.onreadystatechange = function() {
            const loadState = this.readyState
            if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
            link.onload = link.onreadystatechange = null
            resolve()
          }
          document.head.appendChild(link)
        }),

        addGlobalFn: (key, fn, name = false, parent = window) => {
          const pjaxEnable = false
          if (!pjaxEnable && key.startsWith('pjax')) return

          const globalFn = parent.globalFn || {}
          const keyObj = globalFn[key] || {}
    
          if (name && keyObj[name]) return
    
          name = name || Object.keys(keyObj).length
          keyObj[name] = fn
          globalFn[key] = keyObj
          parent.globalFn = globalFn
        }
      }
    
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode
      
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })()</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: 'åŠ è½½æ›´å¤š'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'æŠ€æœ¯ç¬”è®°|YOLOv5ä½¿ç”¨æ•™ç¨‹',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-11-12 15:00:39'
}</script><link rel="stylesheet" href="/css/font.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">åŠ è½½ä¸­...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    btf.addGlobalFn('pjaxSend', () => { preloader.initLoading() }, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', () => { preloader.endLoading() }, 'preloader_end')
  }
})()</script><div id="web_bg" style="background-color: #91ebec;"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/%E5%A4%B4%E5%83%8F.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">3</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/imgwall/"><i class="fa-fw fas fas fa-image"></i><span> å›¾ç‰‡</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å¾…å¼€å‘</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/YOLOv5æ•™ç¨‹_å°é¢.png);"><nav id="nav"><span id="blog-info"><a href="/" title="xiaozan"><span class="site-name">xiaozan</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/imgwall/"><i class="fa-fw fas fas fa-image"></i><span> å›¾ç‰‡</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å¾…å¼€å‘</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">æŠ€æœ¯ç¬”è®°|YOLOv5ä½¿ç”¨æ•™ç¨‹</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2024-08-16T21:43:16.000Z" title="å‘è¡¨äº 2024-08-17 05:43:16">2024-08-17</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2024-11-12T07:00:39.582Z" title="æ›´æ–°äº 2024-11-12 15:00:39">2024-11-12</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%99%E7%A8%8B/">æ•™ç¨‹</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%99%E7%A8%8B/%E6%8A%80%E8%83%BD%E5%AD%A6%E4%B9%A0/">æŠ€èƒ½å­¦ä¹ </a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="æŠ€æœ¯ç¬”è®°|YOLOv5ä½¿ç”¨æ•™ç¨‹"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">è¯„è®ºæ•°:</span><a href="/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/#post-comment"><span class="gitalk-comment-count"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="YOLOv5ï¼šä¸€å¤œæš´å¯Œ"><a href="#YOLOv5ï¼šä¸€å¤œæš´å¯Œ" class="headerlink" title="YOLOv5ï¼šä¸€å¤œæš´å¯Œ"></a>YOLOv5ï¼šä¸€å¤œæš´å¯Œ</h1><h2 id="1-å…³äºYOLO"><a href="#1-å…³äºYOLO" class="headerlink" title="1.å…³äºYOLO"></a>1.å…³äºYOLO</h2><h3 id="1-1-ç›®æ ‡æ£€æµ‹çš„æ¦‚å¿µä¸å‘å±•"><a href="#1-1-ç›®æ ‡æ£€æµ‹çš„æ¦‚å¿µä¸å‘å±•" class="headerlink" title="1.1 ç›®æ ‡æ£€æµ‹çš„æ¦‚å¿µä¸å‘å±•"></a>1.1 ç›®æ ‡æ£€æµ‹çš„æ¦‚å¿µä¸å‘å±•</h3><p>ç›®æ ‡æ£€æµ‹ï¼Œä¹Ÿå«åšç›®æ ‡æå–ï¼Œæ˜¯ä¸€ç§åŸºäºç›®æ ‡å‡ ä½•å’Œç»Ÿè®¡ç‰¹å¾çš„å›¾åƒåˆ†å‰²ã€‚å®ƒå°†ç›®æ ‡çš„åˆ†å‰²å’Œè¯†åˆ«åˆäºŒä¸ºä¸€ã€‚åœ¨å¤æ‚çš„åº”ç”¨åœºæ™¯ä¸­ï¼Œéœ€è¦åŒæ—¶è€ƒè™‘å¯¹å¤šä¸ªç›®æ ‡è¿›è¡Œå®æ—¶æ£€æµ‹ï¼Œå…¶å‡†ç¡®æ€§å’Œå®æ—¶æ€§æ˜¯æ•´ä¸ªç³»ç»Ÿçš„ä¸€é¡¹é‡è¦èƒ½åŠ›ã€‚</p>
<p>éšç€è®¡ç®—æœºæŠ€æœ¯çš„å‘å±•å’Œè®¡ç®—æœºè§†è§‰åŸç†çš„å¹¿æ³›åº”ç”¨ï¼Œåˆ©ç”¨è®¡ç®—æœºå›¾åƒå¤„ç†æŠ€æœ¯å¯¹ç›®æ ‡è¿›è¡Œå®æ–½è·Ÿè¸ªç ”ç©¶è¶Šæ¥è¶Šçƒ­é—¨ï¼Œå¯¹ç›®æ ‡è¿›è¡ŒåŠ¨æ€å®æ–½è·Ÿè¸ªå®šä½åœ¨æ™ºèƒ½åŒ–äº¤é€šç³»ç»Ÿï¼Œæ™ºèƒ½ç›‘æ§ç³»ç»Ÿï¼Œå†›äº‹ç›®æ ‡æ£€æµ‹åŠåŒ»å­¦å¯¼èˆªæ‰‹æœ¯ä¸­æ‰‹æœ¯å™¨æ¢°å®šä½ç­‰æ–¹é¢å…·æœ‰å¹¿æ³›çš„åº”ç”¨ä»·å€¼ã€‚</p>
<h3 id="1-2-YOLOçš„å‘å±•ä¸ä¼˜åŠ¿"><a href="#1-2-YOLOçš„å‘å±•ä¸ä¼˜åŠ¿" class="headerlink" title="1.2 YOLOçš„å‘å±•ä¸ä¼˜åŠ¿"></a>1.2 YOLOçš„å‘å±•ä¸ä¼˜åŠ¿</h3><p><strong>YOLOï¼ˆYou Only Look Onceï¼‰</strong>æ˜¯ä¸€ç§ç”¨äºå®æ—¶ç›®æ ‡æ£€æµ‹çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚</p>
<p>YOLOæœ€åˆçš„åˆ›é€ è€…ç»´æŠ¤äº†YOLOv1ï¼ŒYOLOv2ï¼ŒYOLOv3ã€‚YOLOv4æ˜¯å¯¹YOLOv3çš„ä¸€ä¸ªæ”¹è¿›ï¼ŒYOLOv4çš„ä½œè€…ä¸å‰ä¸‰ä¸ªç‰ˆæœ¬YOLOçš„ä½œè€…å¹¶ä¸æ˜¯åŒä¸€äººã€‚YOLOv5åœ¨YOLOv4å‘å¸ƒä¸ä¹…åå‡ºç°ï¼Œç”±Glenn Jocherä½¿ç”¨Pytorchæ¡†æ¶å»ºç«‹ã€‚</p>
<ul>
<li><p><em><strong>YOLO v1ï¼ˆ2016ï¼‰ï¼š</strong></em></p>
<ul>
<li>YOLO v1æ˜¯YOLOç³»åˆ—çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œç”±Joseph Redmonç­‰äººäº2016å¹´æå‡ºã€‚å®ƒé‡‡ç”¨å•ä¸€ç¥ç»ç½‘ç»œï¼Œå°†ç›®æ ‡æ£€æµ‹é—®é¢˜è½¬åŒ–ä¸ºå›å½’é—®é¢˜ã€‚YOLO v1å°†è¾“å…¥å›¾åƒåˆ†æˆè¾ƒå°çš„ç½‘æ ¼ï¼Œå¹¶ä¸ºæ¯ä¸ªç½‘æ ¼å•ç‹¬é¢„æµ‹è¾¹ç•Œæ¡†ï¼ˆbounding boxï¼‰å’Œç›¸åº”çš„ç±»åˆ«æ¦‚ç‡åˆ†æ•°ã€‚</li>
<li>YOLO v1çš„ä¼˜ç‚¹æ˜¯é€Ÿåº¦å¿«ï¼Œå¯ä»¥å®ç°å®æ—¶ç›®æ ‡æ£€æµ‹ï¼Œä½†å®ƒåœ¨æ£€æµ‹å°ç›®æ ‡å’Œå¤„ç†é‡å çš„ç›®æ ‡æ–¹é¢å­˜åœ¨ä¸€äº›é—®é¢˜ã€‚</li>
</ul>
</li>
<li><p><em><strong>YOLO v2 &#x2F; YOLO9000ï¼ˆ2017ï¼‰</strong>ï¼š</em></p>
<ul>
<li>YOLO v2åœ¨YOLO v1çš„åŸºç¡€ä¸Šè¿›è¡Œäº†æ”¹è¿›ï¼Œé‡‡ç”¨äº†æ›´æ·±çš„ç¥ç»ç½‘ç»œï¼Œç§°ä¸ºDarknet-19ã€‚</li>
<li>YOLO9000æ˜¯YOLO v2çš„æ‰©å±•ç‰ˆæœ¬ï¼Œæ”¯æŒæ›´å¤šçš„ç›®æ ‡ç±»åˆ«ã€‚å®ƒé€šè¿‡å¼•å…¥WordTreeç­‰æŠ€æœ¯ï¼Œå®ç°äº†å¯¹è¶…è¿‡9000ä¸ªä¸åŒç±»åˆ«çš„ç›®æ ‡è¿›è¡Œæ£€æµ‹ã€‚</li>
</ul>
</li>
<li><p><em><strong>YOLO v3ï¼ˆ2018ï¼‰ï¼š</strong></em></p>
<ul>
<li>YOLO v3æ˜¯YOLOç³»åˆ—çš„ä¸‹ä¸€ä¸ªç‰ˆæœ¬ï¼Œå¼•å…¥äº†å¤šå°ºåº¦é¢„æµ‹ã€‚å®ƒä½¿ç”¨äº†ä¸‰ä¸ªä¸åŒå°ºåº¦çš„ç‰¹å¾å›¾æ¥æ£€æµ‹ä¸åŒå¤§å°çš„ç›®æ ‡ã€‚</li>
<li>YOLO v3æ”¹è¿›äº†ç›®æ ‡æ£€æµ‹çš„ç²¾åº¦å’Œç¨³å®šæ€§ï¼Œæˆä¸ºä¸€ç§å¼ºå¤§çš„ç›®æ ‡æ£€æµ‹ç®—æ³•ã€‚</li>
</ul>
</li>
<li><p><em><strong>YOLO v4ï¼ˆ2020ï¼‰ï¼š</strong></em></p>
<ul>
<li>YOLO v4æ˜¯YOLOç³»åˆ—çš„åˆä¸€é‡å¤§æ”¹è¿›ï¼Œç”±Alexey Bochkovskiyç­‰äººå¼€å‘ã€‚å®ƒå¼•å…¥äº†ä¸€ç³»åˆ—æŠ€æœ¯ï¼Œå¦‚CIOUæŸå¤±å‡½æ•°ã€PANetã€SAMå—ç­‰ï¼Œä»¥æé«˜ç›®æ ‡æ£€æµ‹çš„æ€§èƒ½ã€‚</li>
<li>YOLO v4å…·æœ‰æ›´é«˜çš„å‡†ç¡®æ€§å’Œé€Ÿåº¦ï¼Œæˆä¸ºäº†ç›®æ ‡æ£€æµ‹é¢†åŸŸçš„é¢†å…ˆç®—æ³•ä¹‹ä¸€ã€‚</li>
</ul>
</li>
<li><p><em><strong>YOLO v5ï¼ˆ2020ï¼‰ï¼š</strong></em></p>
<ul>
<li>YOLO v5ç”±Ultralyticså›¢é˜Ÿäº2020å¹´å‘å¸ƒã€‚å®ƒç€é‡äºè½»é‡åŒ–å’Œé€Ÿåº¦ä¼˜åŒ–ï¼Œå¹¶ä¸”å…·æœ‰é«˜åº¦å¯é…ç½®æ€§ã€‚YOLO v5çš„ä¸åŒç‰ˆæœ¬ï¼ˆå¦‚Yolov5sã€Yolov5mã€Yolov5lå’ŒYolov5xï¼‰å¯ä»¥æ ¹æ®éœ€æ±‚è¿›è¡Œé€‰æ‹©ã€‚</li>
<li>YOLO v5åœ¨é€Ÿåº¦å’Œæ€§èƒ½ä¹‹é—´å–å¾—äº†å¾ˆå¥½çš„å¹³è¡¡ï¼Œé€‚ç”¨äºå„ç§å®æ—¶ç›®æ ‡æ£€æµ‹åº”ç”¨ã€‚</li>
</ul>
</li>
</ul>
<p><em><strong>YOLOv1&#x2F;v2&#x2F;v3:</strong></em></p>
<pre><code>æºç ï¼š[https://github.com/pjreddie/darknet](YOLOv1/2/3æºç )

è®ºæ–‡ï¼š[https://pjreddie.com/](YOLOv1/2/3è®ºæ–‡)
</code></pre>
<p><em><strong>YOLOv4ï¼š</strong></em></p>
<pre><code>æºç ï¼š[https://github.com/AlexeyAB/darknet](YOLOv4æºç )

è®ºæ–‡ï¼š[https://arxiv.org/abs/2004.10934](YOLOv4è®ºæ–‡)
</code></pre>
<p><em><strong>YOLOv5:</strong></em></p>
<pre><code>æºç ï¼š[https://github.com/ultralytics/yolov5](YOLOv5æºç )
</code></pre>
<p><strong>YOLOv5çš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>åŸºäºPytorchæ¡†æ¶ï¼Œç›¸å¯¹äºDarknetæ¡†æ¶å®ƒçš„æ‰©å±•æ€§æ›´å¼ºã€‚</li>
<li>æºç ä½¿ç”¨PYTHONï¼Œä½¿å¾—ä»£ç æ›´åŠ ä¾¿äºä¿®æ”¹ï¼Œéå¸¸é€‚åˆä½¿ç”¨éœ€æ±‚ã€‚</li>
<li>ä»£ç é‡æ›´å°ï¼Œé€‚åˆé˜…è¯»ï¼Œå€Ÿé‰´å­¦ä¹ ã€‚</li>
<li>æ›´åŠ ä¼˜ç§€çš„æ€§èƒ½è¡¨ç°ã€‚</li>
</ul>
<p><strong>YOLOv6åŠæ›´é«˜ç‰ˆæœ¬ï¼š</strong></p>
<ul>
<li><em><strong>YOLOv6:</strong></em> ç”±ç¾å›¢è§†è§‰ç ”å‘éƒ¨ï¼ˆMeituan Vision AI Departmentï¼‰äº2022å¹´å¼€æºï¼Œå¹¶åº”ç”¨äºè¯¥å…¬å¸çš„è®¸å¤šè‡ªåŠ¨é€è´§æœºå™¨äººä¸­ã€‚</li>
<li><em><strong>YOLOv7:</strong></em> æ·»åŠ äº†é¢å¤–çš„ä»»åŠ¡ï¼Œä¾‹å¦‚COCOå…³é”®ç‚¹æ•°æ®é›†ä¸Šçš„å§¿æ€ä¼°è®¡ã€‚</li>
<li><em><strong>YOLOv8:</strong></em> æ˜¯UItralyticsæ¨å‡ºçš„YOLOæœ€æ–°ç‰ˆæœ¬ã€‚ä½œä¸ºä¸€ç§æœ€å°–ç«¯ï¼Œæœ€å…ˆè¿›çš„ï¼ˆSOTAï¼‰æ¨¡å‹ï¼ŒYOLOv8å»ºç«‹åœ¨å…ˆå‰ç‰ˆæœ¬çš„æˆåŠŸçš„åŸºç¡€ä¸Šï¼Œå¼•å…¥äº†è®¸å¤šæ–°åŠŸèƒ½å’Œæ”¹è¿›ï¼Œä»¥å¢å¼ºæ€§èƒ½ï¼Œçµæ´»æ€§å’Œæ•ˆç‡ã€‚YOLOv8æ”¯æŒå…¨æ–¹ä½çš„è§†è§‰AIä»»åŠ¡ï¼ŒåŒ…æ‹¬<em><strong>æ£€æµ‹ï¼Œåˆ†å‰²ï¼Œå§¿æ€ä¼°è®¡ï¼Œè·Ÿè¸ªå’Œåˆ†ç±»</strong></em>ã€‚è¿™ç§å¤šåŠŸèƒ½æ€§å…è®¸ç”¨æˆ·åœ¨ä¸åŒçš„åº”ç”¨ç¨‹åºå’Œé¢†åŸŸä¸­åˆ©ç”¨YOLOv8çš„åŠŸèƒ½ã€‚</li>
</ul>
<h2 id="2-å¼€å‘ç¯å¢ƒæ­å»º"><a href="#2-å¼€å‘ç¯å¢ƒæ­å»º" class="headerlink" title="2.å¼€å‘ç¯å¢ƒæ­å»º"></a>2.å¼€å‘ç¯å¢ƒæ­å»º</h2><h3 id="2-1-å‰æœŸç¯å¢ƒå‡†å¤‡"><a href="#2-1-å‰æœŸç¯å¢ƒå‡†å¤‡" class="headerlink" title="2.1 å‰æœŸç¯å¢ƒå‡†å¤‡"></a>2.1 å‰æœŸç¯å¢ƒå‡†å¤‡</h3><h4 id="2-1-2-å…³äºPyTorch"><a href="#2-1-2-å…³äºPyTorch" class="headerlink" title="2.1.2 å…³äºPyTorch"></a>2.1.2 å…³äºPyTorch</h4><p>PyTorchæ˜¯ä¸€ä¸ªæ—©æœŸçš„æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œæ˜¯æ·±åº¦å­¦ä¹ é¢†åŸŸçš„å…ˆé©±ä¹‹ä¸€ã€‚</p>
<p>PyTorchæœ‰ä¸‰ä¸ªå­åº“ï¼Œå®‰è£…æ—¶éœ€è¦å•ç‹¬å®‰è£…ï¼Œåˆ†åˆ«ä¸ºï¼š</p>
<ul>
<li><em><strong>torch:</strong></em> PyTorchæ ¸å¿ƒåº“ï¼Œæä¾›äº†æ·±åº¦å­¦ä¹ æ¡†æ¶çš„åŸºæœ¬åŠŸèƒ½ï¼Œå¯ç”¨äºå„ç§æ·±åº¦å­¦ä¹ ä»»åŠ¡ï¼ŒåŒ…æ‹¬è®¡ç®—æœºè§†è§‰ï¼Œè‡ªç„¶è¯­è¨€å¤„ç†å’Œå¼ºåŒ–å­¦ä¹ ç­‰ã€‚</li>
<li><em><strong>torchvison:</strong></em> PyTorchè®¡ç®—æœºè§†è§‰åº“ï¼Œä¸“é—¨ç”¨äºå¤„ç†å›¾åƒå’Œè§†è§‰æ•°æ®ã€‚åŒ…æ‹¬å›¾åƒæ•°æ®åŠ è½½å™¨ï¼Œå¸¸ç”¨çš„æ•°æ®é›†ï¼Œé¢„è®­ç»ƒçš„æ¨¡å‹å’Œå›¾åƒå¤„ç†å·¥å…·ã€‚</li>
<li><em><strong>torchaudio:</strong></em> PyTorchçš„éŸ³é¢‘å¤„ç†åº“ï¼Œç”¨äºå¤„ç†éŸ³é¢‘æ•°æ®ã€‚åŒ…æ‹¬éŸ³é¢‘æ•°æ®åŠ è½½å™¨ï¼ŒéŸ³é¢‘ç‰¹å¾æå–å·¥å…·ï¼Œå¸¸ç”¨çš„éŸ³é¢‘æ•°æ®é›†å’Œç”¨äºå¤„ç†å£°éŸ³çš„å‡½æ•°å’Œæ¨¡å‹ã€‚</li>
</ul>
<h4 id="2-1-2-æ­å»ºYOLOv5çš„é¢„å®‰è£…ç¯å¢ƒ"><a href="#2-1-2-æ­å»ºYOLOv5çš„é¢„å®‰è£…ç¯å¢ƒ" class="headerlink" title="2.1.2 æ­å»ºYOLOv5çš„é¢„å®‰è£…ç¯å¢ƒ"></a>2.1.2 æ­å»ºYOLOv5çš„é¢„å®‰è£…ç¯å¢ƒ</h4><p>å®˜æ–¹ç»™å‡ºçš„YOLOv5çš„å®‰è£…å‰æè¦æ±‚æ˜¯ï¼š<strong>Python &gt;&#x3D; 3.8.0 &amp;&amp; PyTorch &gt;&#x3D;1.8</strong></p>
<p><strong>å…³äºPythonçš„å®‰è£…</strong>: <a href="Python%E5%AE%98%E7%BD%91">https://www.python.org/</a></p>
<p><strong>å…³äºPyTorchçš„å®‰è£…</strong>ï¼š<a href="Pytorch%E7%9A%84%E5%AE%89%E8%A3%85">https://pytorch.org/</a></p>
<p>å½“ç„¶ï¼Œæˆ‘è‡ªå·±æ¯”è¾ƒæ»¡æ„çš„ä¸€ä¸ªå¼€å‘ç¯å¢ƒåº”è¯¥æ˜¯ï¼š</p>
<ul>
<li>Ubuntu20.04åŠä»¥ä¸Š</li>
<li>é¢„å…ˆå®‰è£…å¥½ROS-neotic</li>
<li>ä½¿ç”¨ <code>pip3 install torch torchvision torchaudio</code>å®‰è£…PyTorch</li>
</ul>
<p>å½“Ubuntuç³»ç»Ÿä¸º20.04åŠä»¥ä¸Šï¼Œæ­¤æ—¶ç”µè„‘çš„Pythonç‰ˆæœ¬ &gt;&#x3D; 3.8ï¼Œå·²ç»æ»¡è¶³YOLOv5å¯¹äºPythonç‰ˆæœ¬çš„è¦æ±‚ã€‚å¯¹äºPytorchç‰ˆæœ¬ï¼Œè™½ç„¶å¾ˆå¤šäººçš„ä¸€è´¯æƒ³æ³•éƒ½æ˜¯åªè¦ç‰ˆæœ¬å¤Ÿç”¨å°±ä¸è¦ç”¨æœ€æ–°ç‰ˆï¼Œä½†æ˜¯æˆ‘ä¹‹å‰ä¸€å¼€å§‹å°±æ˜¯è£…çš„æœ€æ–°ç‰ˆï¼Œè€Œä¸”æˆªè‡³åˆ°ç›®å‰ä¹Ÿä¸€ç›´æ²¡æœ‰å‡ºç°è¿‡é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—å¦‚æœä¸æƒ³æŠ˜è…¾ï¼Œä¹Ÿä¸ç”¨å»ä¸Šé¢çš„å®˜ç½‘å»æ‰¾ç‰ˆæœ¬ä¸‹è½½ï¼Œç›´æ¥ç”¨pip3å®‰è£…ï¼ˆ<em><strong>è¿™é‡Œå€¼å¾—ä¸€è¯´çš„æ˜¯ï¼Œå½“pythonç‰ˆæœ¬ä¸ºpython3æ—¶ï¼Œå»ºè®®éƒ½ç”¨pip3å®‰è£…ï¼Œè€Œä¸è¦å†ç”¨pipï¼Œä¸åŒçš„å®‰è£…æ–¹å¼ä¼šå°†åº“è£…åœ¨ä¸åŒçš„pythonæ–‡ä»¶å¤¹ï¼Œå½“ä½¿ç”¨python3å»æ‰§è¡Œç¨‹åºæ—¶ï¼Œå¦‚æœä¾èµ–çš„åº“è¢«è£…åœ¨äº†python2çš„æ–‡ä»¶å¤¹ä¸­ï¼Œé‚£ä¹ˆç¨‹åºæ˜¯æ— æ³•ä½¿ç”¨è¿™ä¸ªåº“çš„</strong></em>ï¼‰ã€‚</p>
<h3 id="2-2-YOLOv5çš„å®‰è£…"><a href="#2-2-YOLOv5çš„å®‰è£…" class="headerlink" title="2.2 YOLOv5çš„å®‰è£…"></a>2.2 YOLOv5çš„å®‰è£…</h3><p>YOLOv5çš„å®‰è£…å…¶å®éå¸¸ç®€å•ï¼š</p>
<ul>
<li><em><strong>ä¸‹è½½ä»“åº“åˆ°æœ¬åœ°ï¼š</strong></em> <code>git clone https://github.com/ultralytics/yolov5</code></li>
<li><em><strong>è¿›å…¥yolov5æ–‡ä»¶å¤¹ï¼š</strong></em> <code>cd yolov5</code></li>
<li><em><strong>å®‰è£…æ‰€éœ€ä¾èµ–ï¼š</strong></em> <code>pip install -r requirements.txt</code></li>
</ul>
<p>è‡³æ­¤ï¼Œä½ çš„è®¡ç®—æœºç°åœ¨å·²ç»å¯ä»¥ä½¿ç”¨YOLOv5äº†ï¼Œå¯ä»¥é€šè¿‡åœ¨yolov5æ–‡ä»¶å¤¹æ‰“å¼€ç»ˆç«¯è¿è¡Œpython3 detect.pyï¼Œè¯¥ç¨‹åºå°†ä¼šåˆ©ç”¨å·²ç»è®­ç»ƒå¥½çš„æ¨¡å‹å¯¹&#x2F;data&#x2F;imgs&#x2F;ä¸‹çš„å›¾ç‰‡è¿›è¡Œç›®æ ‡æ£€æµ‹ï¼Œå¹¶ä¸”åœ¨&#x2F;runs&#x2F;detect&#x2F;expæ–‡ä»¶å¤¹æŸ¥çœ‹æ£€æµ‹åçš„ç»“æœã€‚</p>
<p><img src="/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/1694479671537.png" alt="F4"></p>
<h3 id="2-3-GPUç¯å¢ƒæ­å»ºåŠYOLOv5çš„ä½¿ç”¨"><a href="#2-3-GPUç¯å¢ƒæ­å»ºåŠYOLOv5çš„ä½¿ç”¨" class="headerlink" title="2.3 GPUç¯å¢ƒæ­å»ºåŠYOLOv5çš„ä½¿ç”¨"></a>2.3 GPUç¯å¢ƒæ­å»ºåŠYOLOv5çš„ä½¿ç”¨</h3><p><strong>ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼å®‰è£…è¿‡ç¨‹ä¸­ï¼Œå…¨ç¨‹ä¸è¦æŒ‚æ¢¯å­ï¼Œå¹¶ä¸”é€€å‡ºåå°ã€‚ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</strong></p>
<h4 id="2-3-1-æ˜¾å¡é©±åŠ¨å®‰è£…"><a href="#2-3-1-æ˜¾å¡é©±åŠ¨å®‰è£…" class="headerlink" title="2.3.1 æ˜¾å¡é©±åŠ¨å®‰è£…"></a>2.3.1 æ˜¾å¡é©±åŠ¨å®‰è£…</h4><p>å®‰è£…æ˜¾å¡é©±åŠ¨å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå®‰è£…ï¼Œä½†æ˜¯æœ‰ä¸€ç§æ¯”è¾ƒæ–¹ä¾¿çš„æ–¹å¼è¿›è¡Œå®‰è£…ï¼š</p>
<ul>
<li>è¿›å…¥è½¯ä»¶ä¸æ›´æ–°â€“&gt;é™„åŠ é©±åŠ¨â€“&gt;é€‰æ‹©å¯¹åº”ç‰ˆæœ¬çš„é©±åŠ¨</li>
<li>åº”ç”¨æ›´æ”¹åé‡å¯ç”µè„‘</li>
<li>ç»ˆç«¯è¾“å…¥nvidia-smiå³å¯æŸ¥çœ‹é©±åŠ¨ä¿¡æ¯</li>
</ul>
<p>ä¾‹å¦‚æˆ‘æ‰€é€‰çš„é©±åŠ¨ç‰ˆæœ¬ä¸ºï¼š</p>
<p><img src="/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/02.png" alt="é©±åŠ¨"></p>
<p>æ˜¾ç¤ºä¿¡æ¯ä¸ºï¼š<br><img src="/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/03.png" alt="smi"></p>
<p>æ­¤å¤–ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œç»ˆç«¯è¿˜æ˜¾ç¤ºäº†æ¨èçš„CUDAç‰ˆæœ¬ï¼Œå¯ä»¥é€‰æ‹©æ¨èçš„ç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥è‡ªè¡Œé€‰æ‹©ç‰ˆæœ¬å®‰è£…ã€‚</p>
<h4 id="2-3-2-CUDAå®‰è£…"><a href="#2-3-2-CUDAå®‰è£…" class="headerlink" title="2.3.2 CUDAå®‰è£…"></a>2.3.2 CUDAå®‰è£…</h4><p><a target="_blank" rel="noopener" href="https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html">æ˜¾å¡é©±åŠ¨ä¸CUDAç‰ˆæœ¬å¯¹åº”</a></p>
<p><img src="/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/04.png" alt="CUDAä¸é©±åŠ¨ç‰ˆæœ¬"></p>
<p><a target="_blank" rel="noopener" href="https://developer.nvidia.com/cuda-toolkit-archive">CUDAç‰ˆæœ¬é€‰æ‹©ä¸å®‰è£…æ­¥éª¤</a></p>
<p><img src="/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/05.png" alt="CUDAå®‰è£…"></p>
<p><img src="/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/06.png" alt="CUDAå®‰è£…"></p>
<p>æ ¹æ®è‡ªå·±çš„æ˜¾å¡é©±åŠ¨ç‰ˆæœ¬é€‰æ‹©å¯¹åº”çš„CUDAç‰ˆæœ¬ï¼Œæ¨èä¸è¦ä¸‹è½½å¤ªä½ç‰ˆæœ¬çš„CUDAï¼Œå› ä¸ºåé¢çš„Pytorchå¯¹CUDAçš„ç‰ˆæœ¬ä¹Ÿæœ‰è¦æ±‚ï¼Œå¤ªä½çš„CUDAç‰ˆæœ¬å¯èƒ½å¯¼è‡´ä½ ä¸‹è½½çš„Pytorchå¹¶ä¸èƒ½æ»¡è¶³æ¯”å¦‚yolov5å¯¹æœ€ä½ç‰ˆæœ¬Pytorchçš„è¦æ±‚ã€‚</p>
<p><em><strong>tips:</strong></em> åœ¨å®‰è£…çš„è¿‡ç¨‹ä¸­ï¼Œå¾ˆå¤§æ¦‚ç‡ä¼šåœ¨å®‰è£…åˆ°99%æ—¶å‡ºç°æ®µé”™è¯¯ï¼ˆæ ¸å¿ƒå·²è½¬å‚¨ï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/08.png" alt="æ®µé”™è¯¯"></p>
<p>åŸå› æ˜¯æ ˆå¤ªå°ï¼Œè§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<ul>
<li>æŸ¥çœ‹æ ˆå¤§å°ï¼šulimit -a</li>
<li>æ›´æ”¹stack sizeï¼šulimit -s 102400</li>
</ul>
<p><img src="/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/09.png" alt="æ®µé”™è¯¯"></p>
<p><a target="_blank" rel="noopener" href="https://docs.nvidia.com/cuda/cuda-quick-start-guide/index.html#ubuntu-x86_64">æ·»åŠ ç¯å¢ƒå˜é‡</a></p>
<p><img src="/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/07.png" alt="ç¯å¢ƒå˜é‡"></p>
<p>ä»¥ä¸Šå†…å®¹(æ³¨æ„æ”¹æˆè‡ªå·±ç‰ˆæœ¬çš„CUDA)åœ¨~&#x2F;.bashrcå°¾è¡Œä¸­æ·»åŠ ã€‚</p>
<p><em><strong>å®Œæˆä»¥ä¸Šå†…å®¹åï¼Œåœ¨ç»ˆç«¯è¾“å…¥ï¼š</strong></em></p>
<ul>
<li><em>nvcc -V</em></li>
</ul>
<p><em><strong>æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸã€‚</strong></em></p>
<p><img src="/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/10.png" alt="æŸ¥çœ‹">\</p>
<p><strong>ï¼ï¼ï¼ï¼ï¼ï¼ï¼å®‰è£…å®Œä¹‹åæœ€å¥½é‡å¯ä¸€æ¬¡ç”µè„‘ï¼Œä»¥éªŒè¯æ˜¯å¦èƒ½æ­£ç¡®åŠ è½½nvidiaé©±åŠ¨ï¼Œå¦‚æœä¸èƒ½æ­£ç¡®åŠ è½½ï¼Œåˆ™æ‰‹åŠ¨å†è£…ä¸€æ¬¡å³å¯ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</strong></p>
<h4 id="2-3-3-å®‰è£…torch"><a href="#2-3-3-å®‰è£…torch" class="headerlink" title="2.3.3 å®‰è£…torch"></a>2.3.3 å®‰è£…torch</h4><p><a target="_blank" rel="noopener" href="https://pytorch.org/get-started/previous-versions/">torchä¸CUDAç‰ˆæœ¬å¯¹åº”åŠä¸‹è½½</a></p>
<p>ç”±äºæˆ‘è£…çš„CUDAä¸º12.0ï¼ŒæŸ¥çœ‹äº†ä¸€ä¸‹ï¼Œå®˜ç½‘ä¸Šæ²¡æœ‰ç›´æ¥æ”¯æŒcuda 12çš„torchç‰ˆæœ¬ï¼Œä½†æ˜¯ç¿»é˜…ç¤¾åŒºäº†è§£åˆ°ï¼Œcudaæ˜¯å‘ä¸‹å…¼å®¹çš„ï¼Œcuda 12å¯ä»¥æ”¯æŒå®˜ç½‘é‡Œé¢çš„CUDA 11.8ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨condaå®‰è£…ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨pipå®‰è£…ï¼Œæˆ‘åœ¨è¿™é€‰æ‹©çš„æ˜¯ä½¿ç”¨pipå®‰è£…ï¼Œå¹¶ä¸”å°†å®˜ç½‘ä¸Šç»™å‡ºçš„pipæ”¹ä¸ºpip3ï¼Œè¯»è€…å¯è‡ªè¡Œå»äº†è§£äºŒè€…çš„ä¸åŒã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install torch==2.0.1 torchvision==0.15.2 torchaudio==2.0.2 --index-url https://download.pytorch.org/whl/cu118</span><br></pre></td></tr></table></figure>

<h4 id="2-3-4-éªŒè¯å®‰è£…ç»“æœ"><a href="#2-3-4-éªŒè¯å®‰è£…ç»“æœ" class="headerlink" title="2.3.4 éªŒè¯å®‰è£…ç»“æœ"></a>2.3.4 éªŒè¯å®‰è£…ç»“æœ</h4><p>ä¾æ¬¡åœ¨ç»ˆç«¯è¾“å…¥ï¼š</p>
<ul>
<li>python3</li>
<li>import torch</li>
<li>print(torch.cuda.is_available())</li>
</ul>
<p>è¿”å›trueä»£è¡¨å®‰è£…æˆåŠŸã€‚</p>
<p><img src="/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/11.png" alt="æŸ¥çœ‹"></p>
<p>å®‰è£…æˆåŠŸä½†æ˜¯warnning:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">WARNING: The script isympy is installed in &#x27;/home/jiu/.local/bin&#x27; which is not on PATH.</span><br><span class="line">Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.</span><br><span class="line">WARNING: The scripts cmake, cpack and ctest are installed in &#x27;/home/jiu/.local/bin&#x27; which is not on PATH.</span><br><span class="line">Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.</span><br><span class="line">WARNING: The script lit is installed in &#x27;/home/jiu/.local/bin&#x27; which is not on PATH.</span><br><span class="line">Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.</span><br><span class="line">WARNING: The scripts convert-caffe2-to-onnx, convert-onnx-to-caffe2 and torchrun are installed in &#x27;/home/jiu/.local/bin&#x27; which is not on PATH.</span><br><span class="line">Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.</span><br><span class="line">WARNING: The scripts f2py, f2py3 and f2py3.8 are installed in &#x27;/home/jiu/.local/bin&#x27; which is not on PATH.</span><br><span class="line">Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>hahahh</p>
<h3 id="2-4-cuDNNä¸TensorRT"><a href="#2-4-cuDNNä¸TensorRT" class="headerlink" title="2.4 cuDNNä¸TensorRT"></a>2.4 cuDNNä¸TensorRT</h3><h4 id="2-4-1-cuDNN"><a href="#2-4-1-cuDNN" class="headerlink" title="2.4.1 cuDNN"></a>2.4.1 cuDNN</h4><p>NVIDIA CUDA æ·±åº¦ç¥ç»ç½‘ç»œ ï¼ˆcuDNNï¼‰ æ˜¯ç”¨äºæ·±åº¦ç¥ç»ç½‘ç»œçš„ GPU åŠ é€ŸåŸºå…ƒåº“</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/h3c4lenovo/article/details/119003405">å‚è€ƒåšå®¢</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.nvidia.com/deeplearning/cudnn/install-guide/index.html">å®˜æ–¹å®‰è£…æŒ‡å¼•</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.nvidia.com/rdp/cudnn-archive">å®˜æ–¹ä¸‹è½½</a><br><img src="/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/12.png" alt="æŸ¥çœ‹"></p>
<p>ä¸‹è½½å¯¹åº”CUDAçš„ç‰ˆæœ¬å°±å¥½äº†ï¼Œæˆ‘çš„CUDAæ˜¯12.0.0ï¼Œæ‰€ä»¥æˆ‘ä¸‹è½½çš„æ˜¯cuDNN8.9.0 .</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf cudnn-linux-x86_64-8.9.0.131_cuda12-archive.tar.xz</span><br><span class="line">sudo cp cudnn-linux-x86_64-8.9.0.131_cuda12-archive/include/cudnn*.h /usr/local/cuda/include </span><br><span class="line">sudo cp -P cudnn-linux-x86_64-8.9.0.131_cuda12-archive/lib/libcudnn* /usr/local/cuda/lib64 </span><br><span class="line">sudo chmod a+r /usr/local/cuda/include/cudnn*.h /usr/local/cuda/lib64/libcudnn*  </span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹æ˜¯å¦å®‰è£…å®Œæ¯•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /usr/local/cuda/include/cudnn_version.h | grep CUDNN_MAJOR -A 2</span><br></pre></td></tr></table></figure>

<h4 id="2-4-2-TensorRT"><a href="#2-4-2-TensorRT" class="headerlink" title="2.4.2 TensorRT"></a>2.4.2 TensorRT</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43863869/article/details/128571567">å‚è€ƒåšå®¢</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.nvidia.com/nvidia-tensorrt-8x-download">å®˜ç½‘ä¸‹è½½åœ°å€</a></p>
<p><a target="_blank" rel="noopener" href="https://docs.nvidia.com/deeplearning/tensorrt/install-guide/index.html">å®˜æ–¹å®‰è£…æŒ‡å¼•</a></p>
<p>è¿™é‡Œæ³¨æ„æœ€æ–°ç‰ˆçš„TensorRTä¹Ÿåªæ”¯æŒCUDA12.1 ã€‚<strong>æ‰€ä»¥CUDAä¸è¦è¶…è¿‡12.1ï¼Œä¾‹å¦‚æˆ‘è£…çš„å°±æ˜¯12.0.0</strong></p>
<p><img src="/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/13.png" alt="æŸ¥çœ‹"></p>
<p>æˆ‘ç”¨çš„æ˜¯Tarå®‰è£…ï¼Œç‰ˆæœ¬æ˜¯TensorRT8.6 ã€‚ç”¨tarå®‰è£…çš„å¥½å¤„æ˜¯ï¼ŒæŠŠè§£å‹å¥½çš„æ–‡ä»¶å’Œ.bashrcé‡Œé¢çš„è·¯å¾„åˆ é™¤å°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„åˆ é™¤TensorRTäº†ã€‚</p>
<p>ä¸‹è½½å¥½ä¹‹åï¼Œå°†è¿™ä¸ªç§»åŠ¨åˆ°optæ–‡ä»¶å¤¹ä¸­ï¼š sudo mv TensorRT-8.6.1.6.Linux.x86_64-gnu.cuda-12.0.tar.gz &#x2F;opt æ–¹ä¾¿ç®¡ç†</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">tar -xzvf TensorRT-$&#123;version&#125;.Linux.$&#123;arch&#125;-gnu.$&#123;cuda&#125;.tar.gz</span><br><span class="line">cd TensorRT-$&#123;version&#125;/python</span><br><span class="line">python3 -m pip install tensorrt-*-cp3x-none-linux_x86_64.whl</span><br><span class="line">python3 -m pip install tensorrt_lean-*-cp3x-none-linux_x86_64.whl</span><br><span class="line">python3 -m pip install tensorrt_dispatch-*-cp3x-none-linux_x86_64.whl</span><br><span class="line">cd TensorRT-$&#123;version&#125;/uff</span><br><span class="line">python3 -m pip install uff-0.6.9-py2.py3-none-any.whl</span><br><span class="line">cd TensorRT-$&#123;version&#125;/graphsurgeon</span><br><span class="line">python3 -m pip install graphsurgeon-0.4.6-py2.py3-none-any.whl</span><br><span class="line">cd TensorRT-$&#123;version&#125;/onnx_graphsurgeon</span><br><span class="line">python3 -m pip install onnx_graphsurgeon-0.3.12-py2.py3-none-any.whl</span><br></pre></td></tr></table></figure>

<p>ç…§ç€å®˜æ–¹å®‰è£…éƒ½å®‰è£…ä¸€éå°±å¯ä»¥äº† <em><strong>æ³¨æ„å°†å‘½ä»¤ä¸­çš„xå’Œæ˜Ÿå·æ”¹æˆè‡ªå·±éœ€è¦çš„ç‰ˆæœ¬</strong></em> ã€‚</p>
<p>å®˜æ–¹ç»™çš„åœ¨bashrcé‡Œé¢çš„è·¯å¾„æ˜¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:&lt;TensorRT-$&#123;version&#125;/lib&gt;</span><br></pre></td></tr></table></figure>

<p>åˆ°æˆ‘è¿™é‡Œå°±æ˜¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/TensorRT-8.6.1.6/lib</span><br></pre></td></tr></table></figure>

<p>å†source ~&#x2F;.bashrcåˆ·æ–°ä¸€ä¸‹ï¼ŒTensorRTå°±ç®—è£…å¥½äº†</p>
<h3 id="2-5-æ”¯æŒCUDAçš„opencv"><a href="#2-5-æ”¯æŒCUDAçš„opencv" class="headerlink" title="2.5 æ”¯æŒCUDAçš„opencv"></a>2.5 æ”¯æŒCUDAçš„opencv</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u011622208/article/details/104265206#commentBox">å‚è€ƒåšå®¢</a></p>
<p>å› ä¸ºCUDAçš„ç‰ˆæœ¬å¾ˆé«˜ï¼Œæ‰€ä»¥æˆ‘çš„opencvä¹Ÿå°½é‡è£…çš„é«˜ã€‚æˆ‘è£…çš„æ˜¯ï¼šOpenCV 4.8.1</p>
<p>å®˜ç½‘ä¸ŠæŠŠå‹ç¼©åŒ…ä¸‹ä¸‹æ¥ï¼Œç„¶åï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cmake -D CMAKE_INSTALL_PREFIX=/usr/local -D CMAKE_BUILD_TYPE=Release -D OPENCV_GENERATE_PKGCONFIG=ON -D ENABLE_CXX11=1 -D OPENCV_ENABLE_NONFREE=True ..</span><br><span class="line"></span><br><span class="line">cmake -D CMAKE_INSTALL_PREFIX=/usr/local -D CMAKE_BUILD_TYPE=Release -D OPENCV_GENERATE_PKGCONFIG=ON -D ENABLE_CXX11=1 -D OPENCV_EXTRA_MODULES_PATH=../opencv_contrib/modules -D OPENCV_ENABLE_NONFREE=True -D INSTALL_PYTHON_EXAMPLES=ON -D INSTALL_C_EXAMPLES=ON -D WITH_CUDA=ON -D WITH_TBB=ON -D ENABLE_FAST_MATH=1 -D WITH_OPENMP=ON -D WITH_CUFFT=ON -D WITH_CUBLAS=ON ..</span><br><span class="line"></span><br><span class="line">make -j12</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>

<h2 id="3-è®­ç»ƒè‡ªå·±çš„æ•°æ®é›†"><a href="#3-è®­ç»ƒè‡ªå·±çš„æ•°æ®é›†" class="headerlink" title="3.è®­ç»ƒè‡ªå·±çš„æ•°æ®é›†"></a>3.è®­ç»ƒè‡ªå·±çš„æ•°æ®é›†</h2><h3 id="3-1-æ•°æ®é›†æ‹†åˆ†"><a href="#3-1-æ•°æ®é›†æ‹†åˆ†" class="headerlink" title="3.1 æ•°æ®é›†æ‹†åˆ†"></a>3.1 æ•°æ®é›†æ‹†åˆ†</h3><p>å°†æ ‡å¥½çš„æ•°æ®é›†åˆ’åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œget_train_valid.pyä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">import random</span><br><span class="line">import shutil</span><br><span class="line">import copy</span><br><span class="line"></span><br><span class="line">path_root_labels = &#x27;./data_11_24/labels&#x27;    # æ•°æ®é›†æ ‡ç­¾è·¯å¾„</span><br><span class="line">path_root_imgs = &#x27;./data_11_24/images&#x27;      # æ•°æ®é›†å›¾ç‰‡è·¯å¾„</span><br><span class="line">path_splited = &#x27;./data_split&#x27;               # æ•°æ®é›†åˆ’åˆ†è·¯å¾„</span><br><span class="line"></span><br><span class="line">if not os.path.exists(path_splited):</span><br><span class="line">    os.mkdir(path_splited)</span><br><span class="line">    os.mkdir(os.path.join(path_splited, &#x27;images&#x27;))</span><br><span class="line">    os.mkdir(os.path.join(path_splited, &#x27;labels&#x27;))</span><br><span class="line">    os.mkdir(os.path.join(path_splited, &#x27;images/train&#x27;))</span><br><span class="line">    os.mkdir(os.path.join(path_splited, &#x27;images/valid&#x27;))</span><br><span class="line">    os.mkdir(os.path.join(path_splited, &#x27;labels/train&#x27;))</span><br><span class="line">    os.mkdir(os.path.join(path_splited, &#x27;labels/valid&#x27;))</span><br><span class="line"></span><br><span class="line">file_list = os.listdir(path_root_imgs)</span><br><span class="line">origin = copy.deepcopy(file_list)</span><br><span class="line">random.shuffle(file_list)</span><br><span class="line">train_len = int(0.9 * len(file_list))   # è®­ç»ƒé›†å æ¯”</span><br><span class="line"></span><br><span class="line">for i, file in enumerate(file_list):</span><br><span class="line">    image_label = file.split(&#x27;.&#x27;)[0] + &#x27;.txt&#x27;</span><br><span class="line">    label_content = &quot;&quot;</span><br><span class="line"></span><br><span class="line">    if i &lt; train_len:</span><br><span class="line">        img_path = &#x27;./data_split/images/train&#x27;</span><br><span class="line">        label_path = &#x27;./data_split/labels/train&#x27;</span><br><span class="line">    else:</span><br><span class="line">        img_path = &#x27;./data_split/images/valid&#x27;</span><br><span class="line">        label_path = &#x27;./data_split/labels/valid&#x27;</span><br><span class="line"></span><br><span class="line">    # å¤åˆ¶å›¾åƒæ–‡ä»¶è‡³åˆ’åˆ†æ•°æ®é›†æ–‡ä»¶å¤¹</span><br><span class="line">    shutil.copy(os.path.join(path_root_imgs, file), img_path)</span><br><span class="line"></span><br><span class="line">    # å¤åˆ¶æ ‡ç­¾æ–‡ä»¶è‡³åˆ’åˆ†æ•°æ®é›†æ–‡ä»¶å¤¹</span><br><span class="line">    label_file_path = os.path.join(path_root_labels, image_label)</span><br><span class="line">    if os.path.exists(label_file_path):</span><br><span class="line">        shutil.copy(label_file_path, label_path)</span><br><span class="line">    else:</span><br><span class="line">        # å¦‚æœæ ‡ç­¾æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºç©ºæ–‡ä»¶</span><br><span class="line">        with open(os.path.join(label_path, image_label), &#x27;w&#x27;) as empty_label_file:</span><br><span class="line">            empty_label_file.write(label_content)</span><br><span class="line"></span><br><span class="line">file_list = os.listdir(&#x27;./data_11_24/images&#x27;)</span><br><span class="line">print(len(file_list))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¯¥ä»£ç ä¼šè‡ªåŠ¨åˆ›å»ºåˆ’åˆ†åçš„æ•°æ®é›†æ–‡ä»¶å¤¹ï¼Œå¯¹äºæ²¡æœ‰æ ‡ç­¾çš„èƒŒæ™¯å›¾ç‰‡ä¼šåˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ç©ºç™½æ ‡ç­¾ã€‚ç©ºç™½æ ‡ç­¾åŒæ ·å¯ä»¥ç”¨äºYOLOv5æ•°æ®é›†çš„è®­ç»ƒã€‚</p>
<h3 id="3-2-åˆ›å»ºæ•°æ®å‚æ•°æ–‡ä»¶"><a href="#3-2-åˆ›å»ºæ•°æ®å‚æ•°æ–‡ä»¶" class="headerlink" title="3.2 åˆ›å»ºæ•°æ®å‚æ•°æ–‡ä»¶"></a>3.2 åˆ›å»ºæ•°æ®å‚æ•°æ–‡ä»¶</h3><p>åœ¨data&#x2F;æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºï¼Œä¾‹å¦‚åˆ›å»ºåä¸ºball.yamlçš„å‚æ•°æ–‡ä»¶å¦‚ä¸‹ï¼ˆæ ¼å¼å¯ä»¥ä»å·²æœ‰çš„å‚æ•°æ–‡ä»¶ä¸­å¤åˆ¶ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># YOLOv5 ğŸš€ by Ultralytics, GPL-3.0 license</span><br><span class="line"># COCO 2017 dataset http://cocodataset.org</span><br><span class="line"># Example usage: python train.py --data coco.yaml</span><br><span class="line"># parent</span><br><span class="line"># â”œâ”€â”€ yolov5</span><br><span class="line"># â””â”€â”€ datasets</span><br><span class="line">#     â””â”€â”€ coco  â† downloads here</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Train/val/test sets as 1) dir: path/to/imgs, 2) file: path/to/imgs.txt, or 3) list: [path/to/imgs1, path/to/imgs2, ..]</span><br><span class="line">path: /home/jxj/yolov5-6.0/dataset  # æ•°æ®é›†æ–‡ä»¶å¤¹çˆ¶ç›®å½•</span><br><span class="line">train: train_data/images  # è®­ç»ƒé›†å›¾åƒä½ç½®ï¼ˆä¼šåœ¨è¯¥åŒçº§ç›®å½•ä¸‹è‡ªåŠ¨æœå¯»å¯¹åº”çš„æ ‡ç­¾æ–‡ä»¶ï¼‰</span><br><span class="line">val: valid_data/images  # æµ‹è¯•é›†å›¾åƒä½ç½®ï¼ˆä¼šåœ¨è¯¥åŒçº§ç›®å½•ä¸‹è‡ªåŠ¨æœå¯»å¯¹åº”çš„æ ‡ç­¾æ–‡ä»¶ï¼‰</span><br><span class="line">test:   # 20288 of 40670 images, submit to https://competitions.codalab.org/competitions/20794</span><br><span class="line"></span><br><span class="line"># Classes</span><br><span class="line">nc: 4  # æ ‡ç­¾æ•°é‡</span><br><span class="line">names: [&#x27;purple_box&#x27;,&#x27;blue_box&#x27;,&#x27;red_box&#x27;,&#x27;granary&#x27;]  # æ ‡ç­¾åç§°ï¼ˆä¸æ ‡æ³¨å·¥å…·ä¸­ä¸€è‡´ï¼‰</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¦ä¿®æ”¹çš„åªæœ‰æœ‰ä¸­æ–‡æ³¨é‡Šçš„é‚£éƒ¨åˆ†ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯¥æ•°æ®é›†çš„æ–‡ä»¶å¤¹æ¶æ„ä¸å‰é¢ç”¨get_train_valid.pyåˆ›å»ºçš„æ–‡ä»¶å¤¹æ¶æ„æ˜¯ä¸ä¸€æ ·çš„ï¼Œéœ€è¦æ‰‹åŠ¨å°†ç›¸å¯¹åº”çš„æ–‡ä»¶å¤åˆ¶è¿‡æ¥ï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸‹get_train_valid.pyä»£ç ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">yolov5                                      |	yolov5</span><br><span class="line">|â€”â€”data_split          			    |	|â€”â€”dataset</span><br><span class="line">  |â€”â€”images				    |	  |â€”â€”train_data</span><br><span class="line">    |â€”â€”train				    |	    |â€”â€”images</span><br><span class="line">      |â€”â€”rgb_0.png			    |	      |â€”â€”rgb_0.png</span><br><span class="line">      ...				    |	      ...</span><br><span class="line">    |â€”â€”valid				    |	    |â€”â€”labels</span><br><span class="line">      |â€”â€”rgb_1.png			    |	      |â€”â€”rgb_0.txt						  </span><br><span class="line">      ...				    |	      ...</span><br><span class="line">  |â€”â€”labels				    |	  |â€”â€”valid_data</span><br><span class="line">    |â€”â€”train				    |	    |â€”â€”images</span><br><span class="line">      |â€”â€”rgb_0.txt			    |	      |â€”â€”rgb_1.png</span><br><span class="line">      ...				    |	      ...</span><br><span class="line">    |â€”â€”valid				    |	    |â€”â€”labels</span><br><span class="line">      |â€”â€”rgb_1.txt			    |	      |â€”â€”rgb_1.txt</span><br><span class="line">      ...				    |	      ...</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3-3-åˆ›å»ºæ¨¡å‹å‚æ•°æ–‡ä»¶"><a href="#3-3-åˆ›å»ºæ¨¡å‹å‚æ•°æ–‡ä»¶" class="headerlink" title="3.3 åˆ›å»ºæ¨¡å‹å‚æ•°æ–‡ä»¶"></a>3.3 åˆ›å»ºæ¨¡å‹å‚æ•°æ–‡ä»¶</h3><p>åœ¨models&#x2F;æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºï¼Œä¾‹å¦‚åˆ›å»ºåä¸ºyolov5s_ball.yamlçš„å‚æ•°æ–‡ä»¶å¦‚ä¸‹ï¼ˆå…ˆè‡ªè¡Œé€‰æ‹©ä¸€ä¸ªæ¨¡å‹ï¼Œæ¯”å¦‚yolov5sæˆ–è€…yolov5lï¼Œç„¶åä»¥è¯¥æ–‡ä»¶ä¸ºåŸºç¡€è¿›è¡Œä¿®æ”¹ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"># YOLOv5 ğŸš€ by Ultralytics, GPL-3.0 license</span><br><span class="line"></span><br><span class="line"># Parameters</span><br><span class="line">nc: 4  # æ ‡ç­¾æ•°é‡</span><br><span class="line">depth_multiple: 0.33  # model depth multiple</span><br><span class="line">width_multiple: 0.50  # layer channel multiple</span><br><span class="line">anchors:</span><br><span class="line">  - [10,13, 16,30, 33,23]  # P3/8</span><br><span class="line">  - [30,61, 62,45, 59,119]  # P4/16</span><br><span class="line">  - [116,90, 156,198, 373,326]  # P5/32</span><br><span class="line"></span><br><span class="line"># YOLOv5 v6.0 backbone</span><br><span class="line">backbone:</span><br><span class="line">  # [from, number, module, args]</span><br><span class="line">  [[-1, 1, Conv, [64, 6, 2, 2]],  # 0-P1/2</span><br><span class="line">   [-1, 1, Conv, [128, 3, 2]],  # 1-P2/4</span><br><span class="line">   [-1, 3, C3, [128]],</span><br><span class="line">   [-1, 1, Conv, [256, 3, 2]],  # 3-P3/8</span><br><span class="line">   [-1, 6, C3, [256]],</span><br><span class="line">   [-1, 1, Conv, [512, 3, 2]],  # 5-P4/16</span><br><span class="line">   [-1, 9, C3, [512]],</span><br><span class="line">   [-1, 1, Conv, [1024, 3, 2]],  # 7-P5/32</span><br><span class="line">   [-1, 3, C3, [1024]],</span><br><span class="line">   [-1, 1, SPPF, [1024, 5]],  # 9</span><br><span class="line">  ]</span><br><span class="line"></span><br><span class="line"># YOLOv5 v6.0 head</span><br><span class="line">head:</span><br><span class="line">  [[-1, 1, Conv, [512, 1, 1]],</span><br><span class="line">   [-1, 1, nn.Upsample, [None, 2, &#x27;nearest&#x27;]],</span><br><span class="line">   [[-1, 6], 1, Concat, [1]],  # cat backbone P4</span><br><span class="line">   [-1, 3, C3, [512, False]],  # 13</span><br><span class="line"></span><br><span class="line">   [-1, 1, Conv, [256, 1, 1]],</span><br><span class="line">   [-1, 1, nn.Upsample, [None, 2, &#x27;nearest&#x27;]],</span><br><span class="line">   [[-1, 4], 1, Concat, [1]],  # cat backbone P3</span><br><span class="line">   [-1, 3, C3, [256, False]],  # 17 (P3/8-small)</span><br><span class="line"></span><br><span class="line">   [-1, 1, Conv, [256, 3, 2]],</span><br><span class="line">   [[-1, 14], 1, Concat, [1]],  # cat head P4</span><br><span class="line">   [-1, 3, C3, [512, False]],  # 20 (P4/16-medium)</span><br><span class="line"></span><br><span class="line">   [-1, 1, Conv, [512, 3, 2]],</span><br><span class="line">   [[-1, 10], 1, Concat, [1]],  # cat head P5</span><br><span class="line">   [-1, 3, C3, [1024, False]],  # 23 (P5/32-large)</span><br><span class="line"></span><br><span class="line">   [[17, 20, 23], 1, Detect, [nc, anchors]],  # Detect(P3, P4, P5)</span><br><span class="line">  ]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¦ä¿®æ”¹çš„åœ°æ–¹åªæœ‰æ ‡ç­¾æ•°é‡é‚£ä¸€å—ï¼Œä¸å…ˆå‰åˆ›å»ºçš„è®­ç»ƒæ•°æ®æ–‡ä»¶ä¸­çš„å€¼ä¸€è‡´ã€‚å…¶ä½™åœ°æ–¹ä¸ç”¨ä¿®æ”¹ã€‚</p>
<h3 id="3-4-ä¿®æ”¹train-pyç¨‹åº"><a href="#3-4-ä¿®æ”¹train-pyç¨‹åº" class="headerlink" title="3.4 ä¿®æ”¹train.pyç¨‹åº"></a>3.4 ä¿®æ”¹train.pyç¨‹åº</h3><p>å¤§æ¦‚åœ¨æ–‡ä»¶çš„434è¡Œï¼Œå¯ä»¥å¯¹è®­ç»ƒæ—¶çš„å‚æ•°è¿›è¡Œä¿®æ”¹ï¼ŒåŒ…æ‹¬æ˜¯å¦é‡‡ç”¨é¢„è®­ç»ƒå‚æ•°ã€å…ˆå‰åˆ›å»ºçš„è®­ç»ƒå‚æ•°æ–‡ä»¶åç§°ã€è®­ç»ƒæ¬¡æ•°ç­‰ç­‰ã€‚éƒ¨åˆ†å‚æ•°è§£é‡Šå¦‚ä¸‹ï¼š</p>
<ul>
<li>â€“weightsï¼šé¢„è®­ç»ƒæ¨¡å‹ï¼Œå®ƒå¯ä»¥ä¿ç•™åŸæœ‰çš„è®­ç»ƒæƒé‡ç»§ç»­è®­ç»ƒ</li>
<li>â€“cfgï¼šæ¨¡å‹å‚æ•°æ–‡ä»¶</li>
<li>â€“dataï¼šæ•°æ®å‚æ•°æ–‡ä»¶</li>
<li>â€“epochsï¼šè®­ç»ƒæ¬¡æ•°</li>
<li>â€“batch-sizeï¼šæ¯æ¬¡è®­ç»ƒçš„å›¾åƒæ•°é‡ï¼Œè¶Šå¤§è®­ç»ƒçš„è¶Šå¿«ï¼Œä½†æ˜¯è¶Šæ¶ˆè€—æ˜¾å­˜</li>
<li>â€“imgszï¼šè®­ç»ƒè¾“å…¥å›¾ç‰‡å¤§å°ï¼Œyoloä¼šæ ¹æ®è¿™ä¸ªå‚æ•°å‹ç¼©å›¾ç‰‡ï¼Œè¶Šå¤§è®­ç»ƒæ•ˆæœè¶Šå¥½ï¼Œä½†æ˜¯è¶Šæ¶ˆè€—æ˜¾å­˜</li>
<li>â€“devicesï¼šè®­ç»ƒæ—¶ä½¿ç”¨çš„è®¾å¤‡ï¼Œæ•°å­—è¡¨ç¤ºGPUå·ï¼Œç”¨CPUåˆ™æ”¹ä¸ºâ€™cpuâ€™</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">def parse_opt(known=False):</span><br><span class="line">    parser = argparse.ArgumentParser()</span><br><span class="line">    parser.add_argument(&#x27;--weights&#x27;, type=str, default=ROOT / &#x27;yolov5s.pt&#x27;, help=&#x27;initial weights path&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--cfg&#x27;, type=str, default=ROOT / &#x27;models/yolov5s_ball.yaml&#x27;, help=&#x27;model.yaml path&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--data&#x27;, type=str, default=ROOT / &#x27;data/ball.yaml&#x27;, help=&#x27;dataset.yaml path&#x27;) ###</span><br><span class="line">    parser.add_argument(&#x27;--hyp&#x27;, type=str, default=ROOT / &#x27;data/hyps/hyp.scratch.yaml&#x27;, help=&#x27;hyperparameters path&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--epochs&#x27;, type=int, default=500)</span><br><span class="line">    parser.add_argument(&#x27;--batch-size&#x27;, type=int, default=16, help=&#x27;total batch size for all GPUs&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--imgsz&#x27;, &#x27;--img&#x27;, &#x27;--img-size&#x27;, type=int, default=640, help=&#x27;train, val image size (pixels)&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--rect&#x27;, action=&#x27;store_true&#x27;, help=&#x27;rectangular training&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--resume&#x27;, nargs=&#x27;?&#x27;, const=True, default=False, help=&#x27;resume most recent training&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--nosave&#x27;, action=&#x27;store_true&#x27;, help=&#x27;only save final checkpoint&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--noval&#x27;, action=&#x27;store_true&#x27;, help=&#x27;only validate final epoch&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--noautoanchor&#x27;, action=&#x27;store_true&#x27;, help=&#x27;disable autoanchor check&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--evolve&#x27;, type=int, nargs=&#x27;?&#x27;, const=300, help=&#x27;evolve hyperparameters for x generations&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--bucket&#x27;, type=str, default=&#x27;&#x27;, help=&#x27;gsutil bucket&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--cache&#x27;, type=str, nargs=&#x27;?&#x27;, const=&#x27;ram&#x27;, help=&#x27;--cache images in &quot;ram&quot; (default) or &quot;disk&quot;&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--image-weights&#x27;, action=&#x27;store_true&#x27;, help=&#x27;use weighted image selection for training&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--device&#x27;, default=&#x27;0&#x27;, help=&#x27;cuda device, i.e. 0 or 0,1,2,3 or cpu&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--multi-scale&#x27;, action=&#x27;store_true&#x27;, help=&#x27;vary img-size +/- 50%%&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--single-cls&#x27;, action=&#x27;store_true&#x27;, help=&#x27;train multi-class data as single-class&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--adam&#x27;, action=&#x27;store_true&#x27;, help=&#x27;use torch.optim.Adam() optimizer&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--sync-bn&#x27;, action=&#x27;store_true&#x27;, help=&#x27;use SyncBatchNorm, only available in DDP mode&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--workers&#x27;, type=int, default=8, help=&#x27;maximum number of dataloader workers&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--project&#x27;, default=ROOT / &#x27;runs/train&#x27;, help=&#x27;save to project/name&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--name&#x27;, default=&#x27;exp&#x27;, help=&#x27;save to project/name&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--exist-ok&#x27;, action=&#x27;store_true&#x27;, help=&#x27;existing project/name ok, do not increment&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--quad&#x27;, action=&#x27;store_true&#x27;, help=&#x27;quad dataloader&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--linear-lr&#x27;, action=&#x27;store_true&#x27;, help=&#x27;linear LR&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--label-smoothing&#x27;, type=float, default=0.0, help=&#x27;Label smoothing epsilon&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--patience&#x27;, type=int, default=100, help=&#x27;EarlyStopping patience (epochs without improvement)&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--freeze&#x27;, type=int, default=0, help=&#x27;Number of layers to freeze. backbone=10, all=24&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--save-period&#x27;, type=int, default=-1, help=&#x27;Save checkpoint every x epochs (disabled if &lt; 1)&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--local_rank&#x27;, type=int, default=-1, help=&#x27;DDP parameter, do not modify&#x27;)</span><br><span class="line"></span><br><span class="line">    # Weights &amp; Biases arguments</span><br><span class="line">    parser.add_argument(&#x27;--entity&#x27;, default=None, help=&#x27;W&amp;B: Entity&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--upload_dataset&#x27;, action=&#x27;store_true&#x27;, help=&#x27;W&amp;B: Upload dataset as artifact table&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--bbox_interval&#x27;, type=int, default=-1, help=&#x27;W&amp;B: Set bounding-box image logging interval&#x27;)</span><br><span class="line">    parser.add_argument(&#x27;--artifact_alias&#x27;, type=str, default=&#x27;latest&#x27;, help=&#x27;W&amp;B: Version of dataset artifact to use&#x27;)</span><br><span class="line"></span><br><span class="line">    opt = parser.parse_known_args()[0] if known else parser.parse_args()</span><br><span class="line">    return opt</span><br></pre></td></tr></table></figure>

<h3 id="3-5-è®­ç»ƒæ¨¡å‹"><a href="#3-5-è®­ç»ƒæ¨¡å‹" class="headerlink" title="3.5 è®­ç»ƒæ¨¡å‹"></a>3.5 è®­ç»ƒæ¨¡å‹</h3><p>å½“åšå¥½ä»¥ä¸Šå·¥ä½œåï¼Œå¯ä»¥ç›´æ¥åœ¨ç»ˆç«¯è¿è¡Œpython3 train.pyè¿›è¡Œæ•°æ®é›†è®­ç»ƒã€‚</p>
<p><strong>è®­ç»ƒè¿‡ç¨‹å¯è§†åŒ–ï¼š</strong></p>
<p>åœ¨yolo.pyç¨‹åºä¸­æ‰¾åˆ°<br><img src="/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/14.png" alt="æŸ¥çœ‹"></p>
<p>å°†è¯¥éƒ¨åˆ†å–æ¶ˆæ³¨é‡Šã€‚</p>
<p>åœ¨yolov5æ–‡ä»¶å¤¹ç»ˆç«¯ä¸‹è¾“å…¥ï¼štensorboard â€“logdir&#x3D;.&#x2F;runsï¼Œç„¶ååœ¨æµè§ˆå™¨è®¿é—®<a target="_blank" rel="noopener" href="http://localhost:6006/%E5%8D%B3%E5%8F%AF%E6%9F%A5%E7%9C%8B%E8%AE%AD%E7%BB%83%E8%BF%87%E7%A8%8B%E3%80%82">http://localhost:6006/å³å¯æŸ¥çœ‹è®­ç»ƒè¿‡ç¨‹ã€‚</a><br><img src="/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/15.png" alt="æŸ¥çœ‹"></p>
<h3 id="3-6-è®­ç»ƒç»“æœ"><a href="#3-6-è®­ç»ƒç»“æœ" class="headerlink" title="3.6 è®­ç»ƒç»“æœ"></a>3.6 è®­ç»ƒç»“æœ</h3><p>è®­ç»ƒåçš„ç»“æœä¼šè¢«ä¿å­˜åœ¨runs&#x2F;train&#x2F;exp_xxä¸‹<br><img src="/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/results.png" alt="æŸ¥çœ‹"></p>
<ul>
<li>weightsæ–‡ä»¶å¤¹ä¸‹ä¿å­˜è®­ç»ƒçš„æ¨¡å‹å‚æ•°ï¼ŒåŒ…æ‹¬best.ptå’Œlast.pt</li>
<li>result.pngè¡¨ç¤ºè®­ç»ƒæ•ˆæœï¼š<ul>
<li>Boxï¼š</li>
</ul>
</li>
</ul>
<p>å°†æ¨¡å‹å¯¼å‡ºä¸ºtorchscriptså’Œonnxæ¨¡å‹ï¼ˆå¯ä»¥å°†è®­ç»ƒå¥½çš„best.ptæ–‡ä»¶æ”¾åˆ°yolov5ç›®å½•ä¸‹ï¼Œæˆ–è€…æ”¹ä¸ºruns&#x2F;train&#x2F;exp_xx&#x2F;weights&#x2F;best.ptï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 export.py --weight best.pt --include torchscript onnx</span><br></pre></td></tr></table></figure>

<h2 id="4-åº”ç”¨ä¸æ£€æµ‹"><a href="#4-åº”ç”¨ä¸æ£€æµ‹" class="headerlink" title="4.åº”ç”¨ä¸æ£€æµ‹"></a>4.åº”ç”¨ä¸æ£€æµ‹</h2></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="http://example.com">èœ‚é¸Ÿ</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="http://example.com/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/">http://example.com/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="http://example.com" target="_blank">xiaozan</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/YOLOv5/">YOLOv5</a></div><div class="post-share"><div class="social-share" data-image="/img/YOLOv5%E6%95%99%E7%A8%8B_%E5%B0%81%E9%9D%A2.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="prev-post pull-full" href="/2024/08/18/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-PCL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="æŠ€æœ¯ç¬”è®°|PCLå­¦ä¹ ç¬”è®°"><img class="cover" src="/img/mid360%E5%BB%BA%E5%9B%BE1.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">æŠ€æœ¯ç¬”è®°|PCLå­¦ä¹ ç¬”è®°</div></div></a></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info is-center"><div class="avatar-img"><img src="/img/%E5%A4%B4%E5%83%8F.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">èœ‚é¸Ÿ</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">3</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/xiaozan-hust" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="/2045927977@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a><a class="social-icon" href="https://www.zhihu.com/people/feng-niao-27-37" target="_blank" title="Zhihu"><i class="fa-brands fa-zhihu" style="color: #065fa2;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#YOLOv5%EF%BC%9A%E4%B8%80%E5%A4%9C%E6%9A%B4%E5%AF%8C"><span class="toc-number">1.</span> <span class="toc-text">YOLOv5ï¼šä¸€å¤œæš´å¯Œ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%85%B3%E4%BA%8EYOLO"><span class="toc-number">1.1.</span> <span class="toc-text">1.å…³äºYOLO</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B%E7%9A%84%E6%A6%82%E5%BF%B5%E4%B8%8E%E5%8F%91%E5%B1%95"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1 ç›®æ ‡æ£€æµ‹çš„æ¦‚å¿µä¸å‘å±•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-YOLO%E7%9A%84%E5%8F%91%E5%B1%95%E4%B8%8E%E4%BC%98%E5%8A%BF"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.2 YOLOçš„å‘å±•ä¸ä¼˜åŠ¿</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA"><span class="toc-number">1.2.</span> <span class="toc-text">2.å¼€å‘ç¯å¢ƒæ­å»º</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E5%89%8D%E6%9C%9F%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="toc-number">1.2.1.</span> <span class="toc-text">2.1 å‰æœŸç¯å¢ƒå‡†å¤‡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-2-%E5%85%B3%E4%BA%8EPyTorch"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">2.1.2 å…³äºPyTorch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-2-%E6%90%AD%E5%BB%BAYOLOv5%E7%9A%84%E9%A2%84%E5%AE%89%E8%A3%85%E7%8E%AF%E5%A2%83"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">2.1.2 æ­å»ºYOLOv5çš„é¢„å®‰è£…ç¯å¢ƒ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-YOLOv5%E7%9A%84%E5%AE%89%E8%A3%85"><span class="toc-number">1.2.2.</span> <span class="toc-text">2.2 YOLOv5çš„å®‰è£…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-GPU%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E5%8F%8AYOLOv5%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.2.3.</span> <span class="toc-text">2.3 GPUç¯å¢ƒæ­å»ºåŠYOLOv5çš„ä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-1-%E6%98%BE%E5%8D%A1%E9%A9%B1%E5%8A%A8%E5%AE%89%E8%A3%85"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">2.3.1 æ˜¾å¡é©±åŠ¨å®‰è£…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-2-CUDA%E5%AE%89%E8%A3%85"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">2.3.2 CUDAå®‰è£…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-3-%E5%AE%89%E8%A3%85torch"><span class="toc-number">1.2.3.3.</span> <span class="toc-text">2.3.3 å®‰è£…torch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-4-%E9%AA%8C%E8%AF%81%E5%AE%89%E8%A3%85%E7%BB%93%E6%9E%9C"><span class="toc-number">1.2.3.4.</span> <span class="toc-text">2.3.4 éªŒè¯å®‰è£…ç»“æœ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-cuDNN%E4%B8%8ETensorRT"><span class="toc-number">1.2.4.</span> <span class="toc-text">2.4 cuDNNä¸TensorRT</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-1-cuDNN"><span class="toc-number">1.2.4.1.</span> <span class="toc-text">2.4.1 cuDNN</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-2-TensorRT"><span class="toc-number">1.2.4.2.</span> <span class="toc-text">2.4.2 TensorRT</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-%E6%94%AF%E6%8C%81CUDA%E7%9A%84opencv"><span class="toc-number">1.2.5.</span> <span class="toc-text">2.5 æ”¯æŒCUDAçš„opencv</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E8%AE%AD%E7%BB%83%E8%87%AA%E5%B7%B1%E7%9A%84%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-number">1.3.</span> <span class="toc-text">3.è®­ç»ƒè‡ªå·±çš„æ•°æ®é›†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E6%95%B0%E6%8D%AE%E9%9B%86%E6%8B%86%E5%88%86"><span class="toc-number">1.3.1.</span> <span class="toc-text">3.1 æ•°æ®é›†æ‹†åˆ†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%8F%82%E6%95%B0%E6%96%87%E4%BB%B6"><span class="toc-number">1.3.2.</span> <span class="toc-text">3.2 åˆ›å»ºæ•°æ®å‚æ•°æ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-%E5%88%9B%E5%BB%BA%E6%A8%A1%E5%9E%8B%E5%8F%82%E6%95%B0%E6%96%87%E4%BB%B6"><span class="toc-number">1.3.3.</span> <span class="toc-text">3.3 åˆ›å»ºæ¨¡å‹å‚æ•°æ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E4%BF%AE%E6%94%B9train-py%E7%A8%8B%E5%BA%8F"><span class="toc-number">1.3.4.</span> <span class="toc-text">3.4 ä¿®æ”¹train.pyç¨‹åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E8%AE%AD%E7%BB%83%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.3.5.</span> <span class="toc-text">3.5 è®­ç»ƒæ¨¡å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E8%AE%AD%E7%BB%83%E7%BB%93%E6%9E%9C"><span class="toc-number">1.3.6.</span> <span class="toc-text">3.6 è®­ç»ƒç»“æœ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%BA%94%E7%94%A8%E4%B8%8E%E6%A3%80%E6%B5%8B"><span class="toc-number">1.4.</span> <span class="toc-text">4.åº”ç”¨ä¸æ£€æµ‹</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/04/23/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-ROS1%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B/" title="æŠ€æœ¯ç¬”è®°|ROS1æ ¸å¿ƒç¼–ç¨‹"><img src="/img/ros.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="æŠ€æœ¯ç¬”è®°|ROS1æ ¸å¿ƒç¼–ç¨‹"/></a><div class="content"><a class="title" href="/2025/04/23/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-ROS1%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B/" title="æŠ€æœ¯ç¬”è®°|ROS1æ ¸å¿ƒç¼–ç¨‹">æŠ€æœ¯ç¬”è®°|ROS1æ ¸å¿ƒç¼–ç¨‹</a><time datetime="2025-04-23T03:15:14.000Z" title="å‘è¡¨äº 2025-04-23 11:15:14">2025-04-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/21/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-HEXO%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B/" title="æŠ€æœ¯ç¬”è®°|HEXOç½‘ç«™å¼€å‘æ•™ç¨‹"><img src="/img/HEXO%E6%95%99%E7%A8%8B_%E5%B0%81%E9%9D%A2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="æŠ€æœ¯ç¬”è®°|HEXOç½‘ç«™å¼€å‘æ•™ç¨‹"/></a><div class="content"><a class="title" href="/2024/10/21/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-HEXO%E7%BD%91%E7%AB%99%E5%BC%80%E5%8F%91%E6%95%99%E7%A8%8B/" title="æŠ€æœ¯ç¬”è®°|HEXOç½‘ç«™å¼€å‘æ•™ç¨‹">æŠ€æœ¯ç¬”è®°|HEXOç½‘ç«™å¼€å‘æ•™ç¨‹</a><time datetime="2024-10-21T05:32:40.000Z" title="å‘è¡¨äº 2024-10-21 13:32:40">2024-10-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/24/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E4%BD%A0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%B7%A5%E7%A8%8B/" title="æŠ€æœ¯ç¬”è®°|åˆ›å»ºä¸€ä¸ªä½ è‡ªå·±çš„å·¥ç¨‹"><img src="/img/%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E4%BD%A0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%B7%A5%E7%A8%8B_%E5%B0%81%E9%9D%A2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="æŠ€æœ¯ç¬”è®°|åˆ›å»ºä¸€ä¸ªä½ è‡ªå·±çš„å·¥ç¨‹"/></a><div class="content"><a class="title" href="/2024/08/24/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E4%BD%A0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%B7%A5%E7%A8%8B/" title="æŠ€æœ¯ç¬”è®°|åˆ›å»ºä¸€ä¸ªä½ è‡ªå·±çš„å·¥ç¨‹">æŠ€æœ¯ç¬”è®°|åˆ›å»ºä¸€ä¸ªä½ è‡ªå·±çš„å·¥ç¨‹</a><time datetime="2024-08-24T13:00:27.000Z" title="å‘è¡¨äº 2024-08-24 21:00:27">2024-08-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/18/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-PCL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="æŠ€æœ¯ç¬”è®°|PCLå­¦ä¹ ç¬”è®°"><img src="/img/mid360%E5%BB%BA%E5%9B%BE1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="æŠ€æœ¯ç¬”è®°|PCLå­¦ä¹ ç¬”è®°"/></a><div class="content"><a class="title" href="/2024/08/18/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-PCL%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="æŠ€æœ¯ç¬”è®°|PCLå­¦ä¹ ç¬”è®°">æŠ€æœ¯ç¬”è®°|PCLå­¦ä¹ ç¬”è®°</a><time datetime="2024-08-17T16:06:12.000Z" title="å‘è¡¨äº 2024-08-18 00:06:12">2024-08-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" title="æŠ€æœ¯ç¬”è®°|YOLOv5ä½¿ç”¨æ•™ç¨‹"><img src="/img/YOLOv5%E6%95%99%E7%A8%8B_%E5%B0%81%E9%9D%A2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="æŠ€æœ¯ç¬”è®°|YOLOv5ä½¿ç”¨æ•™ç¨‹"/></a><div class="content"><a class="title" href="/2024/08/17/%E6%8A%80%E6%9C%AF%E7%AC%94%E8%AE%B0-YOLOv5%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" title="æŠ€æœ¯ç¬”è®°|YOLOv5ä½¿ç”¨æ•™ç¨‹">æŠ€æœ¯ç¬”è®°|YOLOv5ä½¿ç”¨æ•™ç¨‹</a><time datetime="2024-08-16T21:43:16.000Z" title="å‘è¡¨äº 2024-08-17 05:43:16">2024-08-17</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By èœ‚é¸Ÿ</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.0.0-b1"></script><script src="/js/main.js?v=5.0.0-b1"></script><div class="js-pjax"><script>(() => {
  const initGitalk = () => {
    const gitalk = new Gitalk(Object.assign({
      clientID: 'Ov23liAljDERGwRc5of6',
      clientSecret: 'bd27219d38708d9a946f0910e9f21a11a70e2f7d',
      repo: 'xiaozan-hust.github.io',
      owner: 'xiaozan-hust',
      admin: ['xiaozan-hust'],
      id: '81f27d5767393ba069e07cdcfcba7754',
      updateCountCallback: commentCount
    },null))

    gitalk.render('gitalk-container')
  }

  const loadGitalk = async() => {
    if (typeof Gitalk === 'function') initGitalk()
    else {
      await btf.getCSS('https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.min.css')
      await btf.getScript('https://cdn.jsdelivr.net/npm/gitalk@1.8.0/dist/gitalk.min.js')
      initGitalk()
    }
  }
  
  const commentCount = n => {
    const isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
    if (isCommentCount) {
      isCommentCount.textContent= n
    }
  }

  if ('Gitalk' === 'Gitalk' || !false) {
    if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
    else loadGitalk()
  } else {
    window.loadOtherComment = loadGitalk
  }
})()</script></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>